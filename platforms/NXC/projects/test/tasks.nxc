//Generated NXC file for:
//Device = Atmel AT91SAM7S256
//Board = LEGO Mindstorms NXT intelligent brick

task move_square(){
while(true){
Acquire(move_mutex);
OnFwd(OUT_AC, 75);
Wait(1000);
OnRev(OUT_C, 75);
Wait(500);
Release(move_mutex);
}
}
task check_sensors(){
while(true){
if(sensor_1==1){
Acquire(move_mutex);
OnRev(OUT_AC, 75);
Wait(500);
OnFwd(OUT_A, 75);
Wait(500);
Release(move_mutex);
}
}
}

task main() {

int move_mutex = "";
Precedes(move_square, check_sensors);
SetSensorTouch(IN_1);

}