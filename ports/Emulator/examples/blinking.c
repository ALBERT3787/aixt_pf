// This C code was automatically generated by Aixt Project
// Device = Emulator
// Board = Software Emulator
// Backend = c

#include <stdbool.h>
#include <unistd.h>
#define time__sleep_us(TIME)	usleep(TIME)
#define time__sleep(TIME)		sleep(TIME)
#include <stdio.h>
#include <stdlib.h>
#define pin__setup(PIN_NUMBER, PIN_MODE)	printf("TRIS ## PIN_NUMBER ## bits.TRIS ## PIN_NUMBER = PIN_MODE")

void main__init();

void time__init();

void time__sleep_ms(unsigned long tms);

long pins__[] = {0, 0, 0, 0, 0, 0, 0, 0};

long input__ = 0;

void pin__update();

void pin__init();

void pin__write(long pin_name, long val);

void pin__high(long pin_name);

void pin__low(long pin_name);

enum main__Pin_names {
	a = 0,
	b,
	c,
	d,
	w,
	x,
	y,
	z,
};

void main__init() {
	printf("\033[1;37m");
	time__init();
	pin__init();
	
}

void time__init() {
}

void time__sleep_ms(unsigned long tms) {
	usleep(tms * 1000);
}

void pin__update() {
	system("clear");
	printf(" Aixt virtual pins     [#] = ON   [ ] = OFF\n");
	printf(" _____ _____ _____ _____ _____ _____ _____ _____\n");
	printf("|  a  |  b  |  c  |  d  |  w  |  x  |  y  |  z  |\n");
	for(long i__ = 0; i__ <= 7; i__++) {
		printf("| [");
		if(i__ <= 3) {
			printf("\033[1;32m");
		}
		else {
			printf("\033[1;31m");
		}
		if(pins__[i__] == 0) {
			printf(" ");
		}
		else {
			printf("#");
		}
		printf("\033[1;37m");
		printf("] ");
	}
	printf("|\n");
	printf("'-----'-----'-----'-----'-----'-----'-----'-----'\n");
}

void pin__init() {
	pin__update();
}

void pin__write(long pin_name, long val) {
	pins__[pin_name] = val;
	pin__update();
}

void pin__high(long pin_name) {
	pins__[pin_name] = 1;
	pin__update();
}

void pin__low(long pin_name) {
	pins__[pin_name] = 0;
	pin__update();
}

int main() {
	main__init();
	for(int i=0; i<10; i++) {
		pin__high(x);
		time__sleep_ms(500);
		pin__low(x);
		time__sleep_ms(500);
	}
	return 0;
}
