// This C code was automatically generated by Aixt Project
// Device = Emulator
// Board = Software Emulator
// Backend = c

#include <stdbool.h>
#include <unistd.h>
#include <stdio.h>
#include <stdlib.h>

#define time__sleep(TIME)		sleep(TIME)

void main__init();

void pwm__duty(long pwm, long duty);

long duty__[] = {0, 0};

void pwm__print(long duty);

void pwm__update();

enum main__Pin_names {
	a = 0,
	b,
	c,
	d,
	w,
	x,
	y,
	z,
};

void main__init() {
}

void pwm__duty(long pwm, long duty) {
	duty__[pwm] = duty;
	pwm__update();
}
enum ports__Emulator__api__pwm__PWM_names {
	pwm_0 = 0,
	pwm_1,
};

void pwm__print(long duty) {
	for(long i__ = 1; i__ <= 50; i__++) {
		if(i__ <= duty / 2) {
			printf("|");
		}
		else {
			printf("_");
		}
	}
	printf("\n");
}

void pwm__update() {
	system("clear");
	printf(" Aixt virtual PWM outputs\n");
	printf("\t\t\t\t    PWM 0 :  %ld %%\n", duty__[0]);
	pwm__print(duty__[0]);
	printf("\t\t\t\t    PWM 1 :  %ld %%\n", duty__[1]);
	pwm__print(duty__[1]);
}

int main() {
	main__init();
	pwm__duty(pwm_1, 100);
	for(int i=1; i<100; i++) {
		time__sleep(1);
		pwm__duty(pwm_0, i);
		pwm__duty(pwm_1, 100 - i);
	}
	return 0;
}
